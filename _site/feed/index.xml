<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>Will Price</title>
 <link href="http://willprice.github.com/feed/" rel="self"/>
 <link href="http://willprice.github.com/feed/" />
 <updated>2012-08-12T23:31:53+01:00</updated>
 <id>http://willprice.github.com/</id>
 <author>
   <name>Recursive</name>
   <email>will.price94@gmail.com</email>
 </author>

 
 <entry>
   <title>Introduction to Jekyll</title>
   <link href="http://willprice.github.com/Technology/2012/08/12/introduction-to-jekyll.html"/>
   <updated>2012-08-12T00:00:00+01:00</updated>
   <id>http://willprice.github.com/Technology/2012/08/12/introduction-to-jekyll</id>
   <content type="html">&lt;p&gt;I first encountered Jekyll through github pages. I read that all git repositories are passed through jekyll and if they are either a valid jekyll or html site then that site can be published through github pages. This was my first misconception that left me confused as I thought that Jekyll was some server side program that you processed some text files, although it is in a sense it isn't true to the real workflow using jekyll.&lt;/p&gt;

&lt;p&gt;Jekyll is a program that generates a static html site from markdown pages using layouts you specify. I kind of like to think of it a control program that converts markdown to html, then structures that and runs a local http server so you can check out what your site looks like, finally you're left with a folder with your site in, you could setup your own website with the http root pointed at it, or upload it to github and enable github pages so that you can host it freely. This tutorial hopefully will give you a sense of jekyll works and what's what.&lt;/p&gt;

&lt;p&gt;Install Jekyll and other programs to begin with:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  $ gem install jekyll rdiscount
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This installs jekyll and rdiscount, &lt;em&gt;a markdown converter&lt;/em&gt;. These programs are the utter basics we need to start playing around with jekyll, in a later guide I'll introduce some other programs.&lt;/p&gt;

&lt;p&gt;Create a directory in which you're going to make your site:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  $ mkdir jekyll_site
  $ cd jekyll_site
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Inside that folder we're going to create a folder called '&lt;em&gt;layouts', '&lt;/em&gt;posts' and 'css', these will hold virtually everything we need for our site. The website will need an 'index.html', which is what jekyll will initially point at when someone visits the site, it is our homepage.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  $ mkdir _layouts _posts css
  $ touch index.html _layouts/default.html _layouts/post.html css/screen.css _config.yml
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The layouts and homepage need to be created now before we can start writing anything in the &lt;em&gt;posts folder. In &lt;/em&gt;layouts/default.html type:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;!DOCTYPE HTML&amp;gt;
&amp;lt;html&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Introduction to Jekyll&amp;lt;/title&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
    &amp;lt;h2&amp;gt;Introduction to Jekyll&amp;lt;/h2&amp;gt;
    &amp;lt;section&amp;gt;

    &amp;lt;/section&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The parts of the file bound in  tags are &lt;a href=&quot;https://github.com/shopify/liquid/wiki/liquid-for-designers&quot;&gt;Liquid Tags&lt;/a&gt;, they will be substituted by whatever variable is inserted into them, in this case we have 'page.title' which is the title of the page defined in the YAML preamble (we'll get to this in a minute) and 'content' which is a standard tag that is filled by the page content like index.html or a translated markdown post.&lt;/p&gt;

&lt;p&gt;We need to do something similar in _layouts/post.html&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  ---
  layout: default
  ---
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In the top part of the file where the hyphens and the title are located are processed by Jekyll is &lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/liquid-extensions&quot;&gt;YAML Front Matter&lt;/a&gt;,this sets some variables like the layout to use, in this case default.html is used, content will be substituted by the post content.&lt;/p&gt;

&lt;p&gt;Finally we need a homepage for our website which will be located in index.html, just something simple for the time being&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  ---
  layout: default
  title: homepage
  ---

  &amp;lt;ul&amp;gt;
    ``
    &amp;lt;li&amp;gt;&amp;lt;a href=&quot;/Technology/2012/08/12/introduction-to-jekyll.html&quot;&amp;gt;Introduction to Jekyll&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;

    &amp;lt;li&amp;gt;&amp;lt;a href=&quot;/2011/12/27/TP-Link-WR703N-OpenWRT-MPD-et-al.html&quot;&amp;gt;First encounters with OpenWRT on the TP-Link WR703N&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
    ``
  &amp;lt;/ul&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Here we have another example of liquid extensions, this is a for loop. There is a standard array of all the posts in the site, we're looping through them and creating an unordered list of each one with links to their location attached to their titles.&lt;/p&gt;

&lt;p&gt;Now we've created all the files we need to get up and running. You can type a test post with the title '2012-08-12-title.md' where 'title' is anything you want it to be separated with hyphens. Type this into it:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  ---
  title: test post
  --- 

  This is a post
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And then run&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  $ jekyll --server
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This will run jekyll generating the site in html whilst also serving it at the address: 'localhost:4000'&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>First encounters with OpenWRT on the TP-Link WR703N</title>
   <link href="http://willprice.github.com/2011/12/27/TP-Link-WR703N-OpenWRT-MPD-et-al.html"/>
   <updated>2011-12-27T00:00:00+00:00</updated>
   <id>http://willprice.github.com/2011/12/27/TP-Link-WR703N-OpenWRT-MPD-et-al</id>
   <content type="html">&lt;p&gt;I bought a TP-Link WR703N [1], it's a little router meant to be used in conjunction with a 3G Modem, it works as an access point broadcasting a wireless connection allowing multiple devices to utilize the modem at once (quite a clever idea, however, not one I'm interested in using), hence I decided to flash it with OpenWRT [2]&lt;/p&gt;

&lt;h2&gt;Specs:&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;*RAM - 32Mb&lt;/li&gt;
&lt;li&gt;ROM - 4Mb&lt;/li&gt;
&lt;li&gt;USB port (USB2)&lt;/li&gt;
&lt;li&gt;CPU - Atheros AR7240 - 400Mhz&lt;/li&gt;
&lt;li&gt;Wireless - Atheros AR9331 - b/g/n*&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Powered by a micro usb port, 5.7cm x 5.7cm, serial interface.
(These are just the basics, more here [3])&lt;/p&gt;

&lt;p&gt;OpenWRT Install:
The device comes preinstalled with Chinese firmware, I connected the router via ethernet and configured Arch to have the IP 192.168.1.2 (in /etc/rc.conf) but you could also easily use wifi to upload the new firmware.&lt;/p&gt;

&lt;p&gt;After connecting to the router, keep hovering over the menu items, the page file names are in English, keep expanding the drop down menus until you find one with a page name similar to 'software upgrade', something along those lines (I do believe it's in one of the last sections). Go to the OpenWRT wiki and download the 'vanilla' firmware for the router, upload this, once the router has upgraded the firmware, it should reboot and openWRT will have been installed&lt;/p&gt;

&lt;p&gt;Having now installed the OpenWRT firmware, you can connect to the router via the ethernet port if you configure your computer's IP to be 192.168.1.2, telnet into the router using:
telnet 192.168.1.1
There you are presented with the CLI of the router where you can start manipulating things. Use opkg update to update the packages list and opkg install &lt;em&gt;package name&lt;/em&gt; to install applications&lt;/p&gt;

&lt;p&gt;These are simply the basics and much more informative instructions can be found on the OpenWRT forums and wiki.&lt;/p&gt;

&lt;p&gt;OpenWRT Configuration:
I wanted to use the router as a wireless client (i.e. similar to a computer), I used the following network configurations&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/etc/config/network&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    `config 'interface' 'loopback'
     option 'ifname' 'lo'
     option 'proto' 'static'
     option 'ipaddr' '127.0.0.1'
     option 'netmask' '255.0.0.0'


    config 'interface' 'lan'
     option 'ifname' 'eth0'
     option 'type' 'bridge'
     option 'proto' 'static'
     option 'ipaddr' '192.168.1.1'
     option 'netmask' '255.255.255.0'


    config 'interface' 'wan'
     option 'proto' 'dhcp'

    /etc/config/wireless
    Config 'wifi-device' 'radio0'
     option 'type' 'mac80211'
     option 'channel' '11'
     option 'macaddr' '38:83:45:a2:14:18'
     option 'hwmode' '11ng'
     option 'htmode' 'HT20'
     list 'ht_capab' 'SHORT-GI-20'
     list 'ht_capab' 'SHORT-GI-40'
     list 'ht_capab' 'RX-STBC1'
     list 'ht_capab' 'DSSS_CCK-40'

    config 'wifi-iface'
     option 'device' 'radio0'
     option 'network' 'wan' #Set the adapter to act as a wide area network -- not sure why
     option 'ssid' 'Price LAN'
     option 'key' '*******'
     option 'encryption' 'psk2' # My network uses psk2 security
     option 'mode' 'sta' #Setup client mode`
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In the section 'config 'wifi-iface'' I've setup the router to act as a client by setting the 'mode' to 'sta' which sets the router to act as a client rather than an access point.&lt;/p&gt;

&lt;p&gt;USB Support:
I needed USB support as the router only has a 4mb flash which isn't sufficient to install transmission, mpd, mpc etc. I updated
/etc/opkg.conf to remedy this (look at the wiki page on opkg, there is a section on how to do this).&lt;/p&gt;

&lt;p&gt;Now I could install to my memory stick using the command
opkg -d usb install &lt;em&gt;package name&lt;/em&gt;
This usually works fairly well, I had to update my PATH variable in /etc/profile to reflect the new install directories.&lt;/p&gt;

&lt;p&gt;I've also played around in /etc/rc.local setting up some startup applications.
I've got mpd, transmission-daemon and mpc (adding playlists) on startup.&lt;/p&gt;

&lt;h1&gt;Links:&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;[1] - $22/£15 - http://www.volumerates.com/product/genuine-tp-link-tl-wr703n-150m-11n-mini-wifi-wireless-router-for-instant-wifi-connection-99273&lt;/li&gt;
&lt;li&gt;[2] - https://openwrt.org/&lt;/li&gt;
&lt;li&gt;[3] - OpenWRT wiki page on WR703N - http://wiki.openwrt.org/toh/tp-link/tl-wr703n&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 
</feed>
