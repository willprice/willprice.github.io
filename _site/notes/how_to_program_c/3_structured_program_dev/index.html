<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

	<!-- Basic Page Needs
  ================================================== -->
  <title>Structured Program Development</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="author" content="Will Price" />
  <link href="http://feeds.feedburner.com/willpriceblog" type="application/atom+xml" title="Will Price" rel="alternative"/>
	<meta name="description" content="">
	<meta name="author" content="">

	<!-- Mobile Specific Metas
  ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- CSS
  ================================================== -->
	<link rel="stylesheet" href="/css/base.css">
	<link rel="stylesheet" href="/css/skeleton.css">
  <link rel="stylesheet" href="/css/layout.css">
	<link rel="stylesheet" href="/css/user.css">
	<link rel="stylesheet" href="/css/pygments.css">
  <link href='http://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>

  <! -- SCRIPTS
  ================================================== -->
  


	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Favicons
	================================================== -->
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">

</head>
<body>



	<!-- Primary Page Layout
	================================================== -->

	<!-- Delete everything in this .container and get started on your own site! -->

	<div class="container">
		<div class="sixteen columns">
      <div class="title">
        <a href="/about.html">Will Price</a>
        <a class="extra" href="/">Home</a>
        <a class="extra" href="/posts.html">Posts</a>
        <hr />
      </div>

      <section>
      <p>All programs can be expressed in terms of 3 <em>control structures</em>, namely:</p>

<ul>
<li>
<p>sequence structure (excecution in sequential order)</p>
</li>

<li>
<p>selection structure (if, if/else, switch)</p>
</li>

<li>
<p>repetition structure (while, for)</p>

<h1 id='flowcharting'>Flowcharting</h1>
</li>

<li>
<p>Rectangle : action symbol : computation, IO</p>
</li>

<li>
<p>Oval : <code>begin</code>, <code>end</code> to mark start/end program excecution.</p>
</li>

<li>
<p>Diamond : conditional symbol : if, if/else, switch</p>
</li>
</ul>

<h1 id='selection_structure'>Selection structure</h1>

<ul>
<li>
<p>if : single-selection</p>
</li>

<li>
<p>if/else : double-selection</p>
</li>

<li>
<p>switch : multiple-selection</p>
</li>

<li>
<p><code>?:</code> : conditional operator : <code>printf(&quot;%s\n&quot;, grade &gt;= 60 ? &quot;Passed&quot; : Failed&quot;);</code> <code>&lt;conditional statement&gt; ? &lt;code block if true&gt; : &lt;code block if false&gt;</code></p>
</li>

<li>
<p>Unitialized variables contain garbage data (still the case?)</p>
</li>

<li>
<p><code>;</code> : empty statement.</p>
</li>
</ul>

<h1 id='repetition_structures'>Repetition structures:</h1>

<h2 id='countcontrolled_repetition'>Count-Controlled repetition</h2>
<div class='highlight'><pre><code class='c'><span class='n'>main</span><span class='p'>()</span> <span class='p'>{</span>
  <span class='kt'>int</span> <span class='n'>total</span><span class='p'>,</span> <span class='n'>grade</span><span class='p'>,</span> <span class='n'>counter</span><span class='p'>,</span> <span class='n'>average</span><span class='p'>;</span>

  <span class='n'>total</span> <span class='o'>=</span> <span class='mi'>0</span><span class='p'>;</span>
  <span class='n'>counter</span> <span class='o'>=</span> <span class='mi'>1</span><span class='p'>;</span>

  <span class='k'>while</span> <span class='p'>(</span><span class='n'>counter</span> <span class='o'>&lt;=</span> <span class='mi'>10</span><span class='p'>)</span> <span class='p'>{</span>
  
    <span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;Enter grade: &quot;</span><span class='p'>);</span>
    <span class='n'>scanf</span><span class='p'>(</span><span class='s'>&quot;%d&quot;</span><span class='p'>,</span> <span class='o'>&amp;</span><span class='n'>grade</span><span class='p'>);</span>
    <span class='n'>total</span> <span class='o'>+=</span> <span class='n'>grade</span><span class='p'>;</span>
    <span class='n'>counter</span> <span class='o'>+=</span> <span class='mi'>1</span><span class='p'>;</span>
  <span class='p'>}</span>
  
  <span class='n'>average</span> <span class='o'>=</span> <span class='n'>total</span><span class='o'>/</span><span class='mi'>10</span><span class='p'>;</span>
  <span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;Class average is %d/n&quot;</span><span class='p'>,</span> <span class='n'>average</span><span class='p'>);</span>

  <span class='k'>return</span> <span class='mi'>0</span><span class='p'>;</span>
<span class='p'>}</span>
</code></pre></div>
<h2 id='sentinelcontrolled_repetition'>Sentinel-Controlled repetition</h2>

<h3 id='topdown_stepwise_refinement'>Top-down, stepwise refinement</h3>

<ol>
<li>Determine class average for the quiz</li>

<li>
<li>initialize vars</li>

<li>input, sum and count the quiz grades</li>

<li>calculate the average of the quiz grades, and print</li>
</li>

<li>
<li>
<p>intialize total to zero, counter to zero</p>
</li>

<li>
<p>input the first grade</p>
</li>

<li>
<p>while the user has not get entered the sentinel:</p>

<ul>
<li>add this grade into the running total</li>

<li>Add one to the grade counter</li>

<li>input the next grade or sentinel</li>
</ul>
</li>

<li>
<p>if counter is not equal to zero:</p>

<ul>
<li>set average to total divided by counter</li>

<li>print average</li>
</ul>
</li>

<li>
<p>else: - print &#8220;no grades were entered&#8221;</p>
</li>
</li>

<li>Now at a sufficiently high level of detail/low level of abstraction, rewrite in C.</li>
</ol>
<div class='highlight'><pre><code class='c'>  <span class='cm'>/*  Class average written using a top-down approach</span>
<span class='cm'>      with sentinel-controlled reptition */</span>

  <span class='n'>main</span><span class='p'>()</span> <span class='p'>{</span>
    <span class='kt'>float</span> <span class='n'>average</span><span class='p'>;</span>
    <span class='kt'>int</span> <span class='n'>counter</span><span class='p'>,</span> <span class='n'>grade</span><span class='p'>,</span> <span class='n'>total</span><span class='p'>;</span>

    <span class='n'>total</span> <span class='o'>=</span> <span class='mi'>0</span><span class='p'>;</span>
    <span class='n'>counter</span> <span class='o'>=</span> <span class='mi'>0</span><span class='p'>;</span>

    <span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;Enter grade, -1 to end: &quot;</span><span class='p'>);</span>
    <span class='n'>scanf</span><span class='p'>(</span><span class='s'>&quot;%d&quot;</span><span class='p'>,</span> <span class='o'>&amp;</span><span class='n'>grade</span><span class='p'>);</span>

    <span class='k'>while</span> <span class='p'>(</span><span class='n'>grade</span> <span class='o'>!=</span> <span class='o'>-</span><span class='mi'>1</span><span class='p'>)</span> <span class='p'>{</span>
      <span class='n'>total</span> <span class='o'>+=</span> <span class='n'>grade</span><span class='p'>;</span>
      <span class='n'>counter</span> <span class='o'>+=</span> <span class='mi'>1</span><span class='p'>;</span>
      <span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;Enter grade, -1 to end: &quot;</span><span class='p'>);</span>
      <span class='n'>scanf</span><span class='p'>(</span><span class='s'>&quot;%d&quot;</span><span class='p'>,</span> <span class='o'>&amp;</span><span class='n'>grade</span><span class='p'>);</span>
    <span class='p'>}</span>

    <span class='k'>if</span> <span class='p'>(</span><span class='n'>counter</span> <span class='o'>!=</span> <span class='mi'>0</span><span class='p'>)</span> <span class='p'>{</span>
      <span class='n'>average</span> <span class='o'>=</span> <span class='p'>(</span><span class='kt'>float</span><span class='p'>)</span> <span class='n'>total</span><span class='o'>/</span><span class='n'>counter</span><span class='p'>;</span>
      <span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;Class average is %.2f&quot;</span><span class='p'>,</span> <span class='n'>average</span><span class='p'>);</span>
    <span class='p'>}</span> <span class='k'>else</span> <span class='p'>{</span>
      <span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;No grades were entered</span><span class='se'>\n</span><span class='s'>&quot;</span><span class='p'>;</span>
    <span class='p'>}</span>

    <span class='k'>return</span> <span class='mi'>0</span><span class='p'>;</span>
<span class='p'>}</span>
</code></pre></div>
<p>Here we used (float) to <em>cast</em> <code>total</code> from an <code>int</code> to a <code>float</code>, allowing for floating point division.</p>

<ul>
<li><code>(float)</code> is the <em>unary cast operator</em>, this creates a floating point copy of it&#8217;s argument for use in whatever calculation is being performed.</li>

<li>When float/int, int is promoted to a float (implicit conversion/promotion) so that the calculation can take place.</li>

<li><code>%.2f</code> : print floating point number to 2 d.</li>

<li><code>a++</code> : postincrement : will use the current value of a in the expression, then increment a by one.</li>

<li><code>++a</code> : preincrement : will increment a, then use the new value of a in the expression</li>

<li><code>a++</code> == <code>++a</code> when executed as an individual statement.</li>

<li>casts, increments have second highest precedence (first being parentheses)</li>
</ul>
      </section>
    </div>
	</div><!-- container -->


<!-- End Document
================================================== -->
</body>
</html>
