<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

	<!-- Basic Page Needs
  ================================================== -->
  <title></title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="author" content="Will Price" />
  <link href="http://feeds.feedburner.com/willpriceblog" type="application/atom+xml" title="Will Price" rel="alternative"/>
	<meta name="description" content="">
	<meta name="author" content="">

	<!-- Mobile Specific Metas
  ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- CSS
  ================================================== -->
	<link rel="stylesheet" href="/css/base.css">
	<link rel="stylesheet" href="/css/skeleton.css">
  <link rel="stylesheet" href="/css/layout.css">
	<link rel="stylesheet" href="/css/user.css">
	<link rel="stylesheet" href="/css/pygments.css">
  <link href='http://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>

  <! -- SCRIPTS
  ================================================== -->
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
  <script type="text/javascript" src="/scripts/toc.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-41410283-1', 'willprice.org');
    ga('send', 'pageview');
  </script>
  


	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Favicons
	================================================== -->
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">

</head>
<body>



	<!-- Primary Page Layout
	================================================== -->

	<!-- Delete everything in this .container and get started on your own site! -->

	<div class="container">
		<div class="sixteen columns">
      <div class="title">
        <a href="/">Will Price</a>
        <a class="extra" href="/posts.html">Posts</a>
        <a class="extra" href="/about.html">About</a>
        <hr />
      </div>

      <section>
      <p>The DFRduino is an Arduino based robot. It’s programmed through the Arduino
IDE program. You’ll be using a library I wrote that saves you from having to
write code like this:</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">pinMode</span><span class="p">(</span><span class="n">LEFT_MOTOR_DIRECTION_CONTROL</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
    <span class="n">pinMode</span><span class="p">(</span><span class="n">LEFT_MOTOR_SPEED_CONTROL</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
    <span class="n">pinMode</span><span class="p">(</span><span class="n">RIGHT_MOTOR_DIRECTION_CONTROL</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
    <span class="n">pinMode</span><span class="p">(</span><span class="n">RIGHT_MOTOR_SPEED_CONTROL</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">goForward</span><span class="p">();</span>
<span class="p">}</span> 

<span class="kt">void</span> <span class="nf">goForward</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">LEFT_MOTOR_DIRECTION_CONTROL</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
    <span class="n">analogWrite</span><span class="p">(</span><span class="n">LEFT_MOTOR_SPEED_CONTROL</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">RIGHT_MOTOR_DIRECTION_CONTROL</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
    <span class="n">analogWrite</span><span class="p">(</span><span class="n">RIGHT_MOTOR_SPEED_CONTROL</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>This is rather slow way to develop code, so I’ve encapsulated (hidden the low
level details) the robot dependent things and given you a library called
<code class="highlighter-rouge">DFRduino</code> that allows you to control the robot at a higher level through the
use of some functions. This will allow us to design an obstacle avoiding robot
in a few hours without getting stuck trying to figure out how to get the robot
to go forward! <em>(although, if people are interested in approaching robots at a
lower level of detail talk to me at the end of the workshop and I’ll see if i
can arrange one for next DigiMakers)</em>.</p>

<p>Instead of the above code, you’ll be writing something like:</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="c1">// Import the DFRduino library and Servo library
</span><span class="cp">#include &lt;DFRduino.h&gt;
#include &lt;servo.h&gt;
</span>
<span class="n">DFRduino</span> <span class="n">robot</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Make the robot go forward
</span>    <span class="n">robot</span><span class="p">.</span><span class="n">setDirection</span><span class="p">(</span><span class="sc">'f'</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<h2 id="features-of-the-dfrduino-robot">Features of the DFRduino robot</h2>
<ul>
  <li>2 wheel drive.</li>
  <li>Sharp IR distance measuring sensors (range: 20cm – 150cm) mounted on twin
servo head.</li>
</ul>

<h2 id="library-functions">Library functions</h2>
<p>The library I have written contains a set of functions to help you develop your
obstacle avoiding robot.</p>

<h3 id="types-of-parameters">Types of parameters</h3>
<ul>
  <li><code class="highlighter-rouge">[percentage]</code> can be -100 to 100.</li>
  <li><code class="highlighter-rouge">[angle]</code> can be 0 to 180.</li>
  <li><code class="highlighter-rouge">[char]</code> can be any character inside of single quotes, e.g. <code class="highlighter-rouge">'f'</code>.</li>
</ul>

<h3 id="functions">Functions</h3>
<ul>
  <li><code class="highlighter-rouge">void setDirection([char])</code>:
    <ul>
      <li><code class="highlighter-rouge">'f'</code> - forward.</li>
      <li><code class="highlighter-rouge">'b'</code> - backward.</li>
      <li><code class="highlighter-rouge">'l'</code> - spin left (spins on the spot).</li>
      <li><code class="highlighter-rouge">'r'</code> - spin right (spins on the spot).</li>
    </ul>
  </li>
</ul>

<table>
  <thead>
    <tr>
      <th><code class="highlighter-rouge">[return type]</code></th>
      <th><code class="highlighter-rouge">[name]</code></th>
      <th><code class="highlighter-rouge">[parameters]</code></th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">void</code></td>
      <td><code class="highlighter-rouge">setMotors</code></td>
      <td><code class="highlighter-rouge">([left percentage], [right percentage])</code></td>
      <td>Set the motor speed by percentage of maximum speed, e.g. <code class="highlighter-rouge">setMotors(100, 100)</code> is full thrust forward.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">void</code></td>
      <td><code class="highlighter-rouge">setVerticalHeadPosition</code></td>
      <td><code class="highlighter-rouge">([angle])</code></td>
      <td>Sets the vertical angle of the IR sensor (we call this the head). For me looking straight ahead was 130, you’ll have to play around with this to figure out which values do what.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">void</code></td>
      <td><code class="highlighter-rouge">setHorizontalHeadPosition</code></td>
      <td><code class="highlighter-rouge">([angle])</code></td>
      <td>Sets the horizontal angle of the head. 0 for left, 90 for forward, 180 for right.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">int</code></td>
      <td><code class="highlighter-rouge">readDistanceInCentimeters</code></td>
      <td>NONE</td>
      <td>Reads the distance from the IR sensor and returns the distance in centimeters.</td>
    </tr>
  </tbody>
</table>

      </section>
    </div>
    <script type="text/javascript">
      $(document).ready(function() {
        $('.toc').toc();
      });
    </script>
  </div>
  <!-- container -->


<!-- End Document
================================================== -->
</body>
</html>
