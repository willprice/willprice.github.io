<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Beginner's steps with TDD</title>
    <meta name="author" content="Will Price">
    <meta name="description" content="">
    <link href="http://feeds.feedburner.com/willpriceblog" type="application/atom+xml" title="Will Price" rel="alternative"/>
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/skeleton.css">
    <link rel="stylesheet" href="/css/pygments.css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto+Slab">
    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/css/user.css">

    <link rel="shortcut icon" href="/images/favicon.ico">
    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png">

    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="/scripts/toc.js"></script>
    <script src="/scripts/ganalytics.js"></script>
    
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="title">
        <a href="/">Will Price</a>
        <a class="extra" href="/">Posts</a>
        <!-- Notes need more cleaning up before being visible for
             browsing!
        <a class="extra" href="/notes">Notes</a>
        -->
        <a class="extra" href="/about.html">About</a>
        <hr />
      </div>
      <section>
        <div class="content">
    <div id="post">
        <h1>Beginner's steps with TDD</h1>
        
        <p><a href="http://www.codemanship.co.uk/parlezuml/">Jason Gorman</a> has agreed to mentor me
in the subject of TDD (Test Driven Development). I plan to document my progress
as I learn the principles behind this philosophy.</p>

<p>TDD can be roughly outlined as follows:</p>
<ul>
  <li>Write a failing test for the desired functionality.</li>
  <li>Write the smallest amount of code that can make <em>that</em> test pass.</li>
  <li>Refactor you code, making sure your changes don’t break functionality (keep
running the tests)</li>
</ul>

<p>As my first introduction to TDD Jason and I did some pair programming where I
implemented a simple Fibonacci function, this enabled me to see how the general
principle worked: “Test a little, program a little”, and see what sort of
obstacles I might come across, such as “What’s the next test going to be where
there is no linear progression to follow”.</p>

<p>I’ve given my self a quick crash course in <em>git</em> to document my progress, I can
commit every time I write a test or a piece of code. The history of the code
can be viewed using <code class="highlighter-rouge">gitk filename</code> using a GUI or <code class="highlighter-rouge">git log --follow --all -p
filename</code>[1].</p>

<p>I don’t have the commit history for the <em>very</em> first Fibonacci sequence exercise
I did, however I’ve got my third attempt at it (it’s  pretty similar to the
first, I’ve just been trying to internalize the concepts I’ve met so far).</p>

<figure class="highlight"><pre><code class="language-diff" data-lang="diff">commit 9c764e57c26e43a87954fbc9026119530c2b6ecf
Author: Will Price &lt;will.price94@gmail.com&gt;
Date:   Tue Jan 29 17:56:42 2013 +0000

    Rename testLengthOf51 -&gt; testLengthOfFiftyOne for consistency

<span class="gh">diff --git a/fibonacci.py b/fibonacci.py
index b6d3197..dc28f8c 100755
</span><span class="gd">--- a/fibonacci.py
</span><span class="gi">+++ b/fibonacci.py
</span><span class="gu">@@ -39,7 +39,7 @@ class TestFibonacciGenerator(unittest.TestCase):
</span>     def testLengthOfSeven(self):
         self.assertRaises(ValueError, self.fibonacciGenerator, 7)
 
<span class="gd">-    def testLengthOf51(self):
</span><span class="gi">+    def testLengthOfFiftyOne(self):
</span>         self.assertRaises(ValueError, self.fibonacciGenerator, 51)
 
 if __name__ == '__main__':

commit b73e6566b457ae493195ab04d8baf2bf5cfaf1bf
Author: Will Price &lt;will.price94@gmail.com&gt;
Date:   Tue Jan 29 17:56:13 2013 +0000

    Code to pass testLengthOf51

<span class="gh">diff --git a/fibonacci.py b/fibonacci.py
index d3df5a9..b6d3197 100755
</span><span class="gd">--- a/fibonacci.py
</span><span class="gi">+++ b/fibonacci.py
</span><span class="gu">@@ -4,7 +4,7 @@ import unittest
</span> 
 class TestFibonacciGenerator(unittest.TestCase):
     def fibonacciGenerator(self, length):
<span class="gd">-        if (length &lt; 8):
</span><span class="gi">+        if (length &lt; 8 or length &gt; 50):
</span>             raise ValueError
 
         fibonacciSequence = [0, 1]
<span class="gu">@@ -39,5 +39,8 @@ class TestFibonacciGenerator(unittest.TestCase):
</span>     def testLengthOfSeven(self):
         self.assertRaises(ValueError, self.fibonacciGenerator, 7)
 
<span class="gi">+    def testLengthOf51(self):
+        self.assertRaises(ValueError, self.fibonacciGenerator, 51)
+
</span> if __name__ == '__main__':
     unittest.main()

commit 67062b240b5d25631fd8d87fc2aeb3ae5e9b983e
Author: Will Price &lt;will.price94@gmail.com&gt;
Date:   Tue Jan 29 17:54:41 2013 +0000

    Code to pass TestLengthOfSeven

<span class="gh">diff --git a/fibonacci.py b/fibonacci.py
index fcd695d..d3df5a9 100755
</span><span class="gd">--- a/fibonacci.py
</span><span class="gi">+++ b/fibonacci.py
</span><span class="gu">@@ -4,6 +4,9 @@ import unittest
</span> 
 class TestFibonacciGenerator(unittest.TestCase):
     def fibonacciGenerator(self, length):
<span class="gi">+        if (length &lt; 8):
+            raise ValueError
+
</span>         fibonacciSequence = [0, 1]
 
         for i in range(2, length):

commit c313448c856360f009864e4c54d0fb25b47143ef
Author: Will Price &lt;will.price94@gmail.com&gt;
Date:   Tue Jan 29 17:53:56 2013 +0000

    Test for length of 7 (invalid)

<span class="gh">diff --git a/fibonacci.py b/fibonacci.py
index 274d12b..fcd695d 100755
</span><span class="gd">--- a/fibonacci.py
</span><span class="gi">+++ b/fibonacci.py
</span><span class="gu">@@ -33,5 +33,8 @@ class TestFibonacciGenerator(unittest.TestCase):
</span>     def testValidLength(self):
         self.assertEquals(8, len(self.fibonacciGenerator(8)))
 
<span class="gi">+    def testLengthOfSeven(self):
+        self.assertRaises(ValueError, self.fibonacciGenerator, 7)
+
</span> if __name__ == '__main__':
     unittest.main()

commit 0ad4ec5dd3a1df92fe40afb608f62ac7c8c52cda
Author: Will Price &lt;will.price94@gmail.com&gt;
Date:   Tue Jan 29 17:50:05 2013 +0000

    Changed testLength to testValidLength for clarity

<span class="gh">diff --git a/fibonacci.py b/fibonacci.py
index 61f6f9a..274d12b 100755
</span><span class="gd">--- a/fibonacci.py
</span><span class="gi">+++ b/fibonacci.py
</span><span class="gu">@@ -30,7 +30,8 @@ class TestFibonacciGenerator(unittest.TestCase):
</span>     def testSixthNumber(self):
         self.assertEquals(5, self.fibonacciGenerator(8)[5])
 
<span class="gd">-    def testLength(self):
</span><span class="gi">+    def testValidLength(self):
</span>         self.assertEquals(8, len(self.fibonacciGenerator(8)))
<span class="gi">+
</span> if __name__ == '__main__':
     unittest.main()

commit f3c473f0fdd0d3e21f23efcf0916ea188a08f44c
Author: Will Price &lt;will.price94@gmail.com&gt;
Date:   Tue Jan 29 17:49:13 2013 +0000

    Test length of list

<span class="gh">diff --git a/fibonacci.py b/fibonacci.py
index 783b800..61f6f9a 100755
</span><span class="gd">--- a/fibonacci.py
</span><span class="gi">+++ b/fibonacci.py
</span><span class="gu">@@ -7,7 +7,7 @@ class TestFibonacciGenerator(unittest.TestCase):
</span>         fibonacciSequence = [0, 1]
 
         for i in range(2, length):
<span class="gd">-            fibonacciSequence.append(fibonacciSequence[i-2] + fibonacciSequence[i-1])
</span><span class="gi">+            fibonacciSequence.append(fibonacciSequence[i - 2] + fibonacciSequence[i - 1])
</span> 
         return fibonacciSequence
 
<span class="gu">@@ -29,5 +29,8 @@ class TestFibonacciGenerator(unittest.TestCase):
</span> 
     def testSixthNumber(self):
         self.assertEquals(5, self.fibonacciGenerator(8)[5])
<span class="gi">+
+    def testLength(self):
+        self.assertEquals(8, len(self.fibonacciGenerator(8)))
</span> if __name__ == '__main__':
     unittest.main()

commit 1130cea31b30924f49fe49f3042da45a2825a460
Author: Will Price &lt;will.price94@gmail.com&gt;
Date:   Tue Jan 29 17:47:05 2013 +0000

    Test 6th number + code for that

<span class="gh">diff --git a/fibonacci.py b/fibonacci.py
index f1b21d9..783b800 100755
</span><span class="gd">--- a/fibonacci.py
</span><span class="gi">+++ b/fibonacci.py
</span><span class="gu">@@ -5,8 +5,10 @@ import unittest
</span> class TestFibonacciGenerator(unittest.TestCase):
     def fibonacciGenerator(self, length):
         fibonacciSequence = [0, 1]
<span class="gi">+
</span>         for i in range(2, length):
<span class="gd">-            fibonacciSequence.append(i - 1)
</span><span class="gi">+            fibonacciSequence.append(fibonacciSequence[i-2] + fibonacciSequence[i-1])
+
</span>         return fibonacciSequence
 
     # TESTS
<span class="gu">@@ -24,5 +26,8 @@ class TestFibonacciGenerator(unittest.TestCase):
</span> 
     def testFifthNumber(self):
         self.assertEquals(3, self.fibonacciGenerator(8)[4])
<span class="gi">+
+    def testSixthNumber(self):
+        self.assertEquals(5, self.fibonacciGenerator(8)[5])
</span> if __name__ == '__main__':
     unittest.main()

commit d0256181239d47d8d975eed0bfb4277fb7a78ae2
Author: Will Price &lt;will.price94@gmail.com&gt;
Date:   Tue Jan 29 17:40:18 2013 +0000

    Test fifth number, no code needed to pass

<span class="gh">diff --git a/fibonacci.py b/fibonacci.py
index 3400d82..f1b21d9 100755
</span><span class="gd">--- a/fibonacci.py
</span><span class="gi">+++ b/fibonacci.py
</span><span class="gu">@@ -22,5 +22,7 @@ class TestFibonacciGenerator(unittest.TestCase):
</span>     def testFourthNumber(self):
         self.assertEquals(2, self.fibonacciGenerator(8)[3])
 
<span class="gi">+    def testFifthNumber(self):
+        self.assertEquals(3, self.fibonacciGenerator(8)[4])
</span> if __name__ == '__main__':
     unittest.main()

commit 92b636a26292f1e78078652c039347bca2027321
Author: Will Price &lt;will.price94@gmail.com&gt;
Date:   Tue Jan 29 17:36:11 2013 +0000

    Test fourth number, no code needed to pass

<span class="gh">diff --git a/fibonacci.py b/fibonacci.py
index c43b118..3400d82 100755
</span><span class="gd">--- a/fibonacci.py
</span><span class="gi">+++ b/fibonacci.py
</span><span class="gu">@@ -19,5 +19,8 @@ class TestFibonacciGenerator(unittest.TestCase):
</span>     def testThirdNumber(self):
         self.assertEquals(1, self.fibonacciGenerator(8)[2])
 
<span class="gi">+    def testFourthNumber(self):
+        self.assertEquals(2, self.fibonacciGenerator(8)[3])
+
</span> if __name__ == '__main__':
     unittest.main()

commit 08b1e5edc66858f2205e16f32875706e06a128e6
Author: Will Price &lt;will.price94@gmail.com&gt;
Date:   Tue Jan 29 17:35:02 2013 +0000

    Code for third test

<span class="gh">diff --git a/fibonacci.py b/fibonacci.py
index 28ed083..c43b118 100755
</span><span class="gd">--- a/fibonacci.py
</span><span class="gi">+++ b/fibonacci.py
</span><span class="gu">@@ -4,8 +4,12 @@ import unittest
</span> 
 class TestFibonacciGenerator(unittest.TestCase):
     def fibonacciGenerator(self, length):
<span class="gd">-        return [0, 1]
</span><span class="gi">+        fibonacciSequence = [0, 1]
+        for i in range(2, length):
+            fibonacciSequence.append(i - 1)
+        return fibonacciSequence
</span> 
<span class="gi">+    # TESTS
</span>     def testFirstNumber(self):
         self.assertEquals(0, self.fibonacciGenerator(8)[0])
 

commit a5f3e527cdc205afeaf8df930534304a991091bd
Author: Will Price &lt;will.price94@gmail.com&gt;
Date:   Tue Jan 29 14:59:51 2013 +0000

    Add code for passing second test, test for third number

<span class="gh">diff --git a/fibonacci.py b/fibonacci.py
index c9d28f3..28ed083 100755
</span><span class="gd">--- a/fibonacci.py
</span><span class="gi">+++ b/fibonacci.py
</span><span class="gu">@@ -4,7 +4,7 @@ import unittest
</span> 
 class TestFibonacciGenerator(unittest.TestCase):
     def fibonacciGenerator(self, length):
<span class="gd">-        return [0]
</span><span class="gi">+        return [0, 1]
</span> 
     def testFirstNumber(self):
         self.assertEquals(0, self.fibonacciGenerator(8)[0])
<span class="gu">@@ -12,6 +12,8 @@ class TestFibonacciGenerator(unittest.TestCase):
</span>     def testSecondNumber(self):
         self.assertEquals(1, self.fibonacciGenerator(8)[1])
 
<span class="gi">+    def testThirdNumber(self):
+        self.assertEquals(1, self.fibonacciGenerator(8)[2])
</span> 
 if __name__ == '__main__':
     unittest.main()

commit f04d7ec901640e5771a4ae816f17fbfade9ee9af
Author: Will Price &lt;will.price94@gmail.com&gt;
Date:   Tue Jan 29 14:58:04 2013 +0000

    Code to pass first test, test for second number

<span class="gh">diff --git a/fibonacci.py b/fibonacci.py
index 54fe5bf..c9d28f3 100755
</span><span class="gd">--- a/fibonacci.py
</span><span class="gi">+++ b/fibonacci.py
</span><span class="gu">@@ -4,11 +4,14 @@ import unittest
</span> 
 class TestFibonacciGenerator(unittest.TestCase):
     def fibonacciGenerator(self, length):
<span class="gd">-        return [None]
</span><span class="gi">+        return [0]
</span> 
     def testFirstNumber(self):
         self.assertEquals(0, self.fibonacciGenerator(8)[0])
 
<span class="gi">+    def testSecondNumber(self):
+        self.assertEquals(1, self.fibonacciGenerator(8)[1])
+
</span> 
 if __name__ == '__main__':
     unittest.main()

commit a6a83808fb900638706ccfdbbe922b36f5e27d4d
Author: Will Price &lt;will.price94@gmail.com&gt;
Date:   Tue Jan 29 14:51:39 2013 +0000

    Testing first fibonacci number, implemented fibonacciGenerator function

<span class="gh">diff --git a/fibonacci.py b/fibonacci.py
index f4dfbd8..54fe5bf 100755
</span><span class="gd">--- a/fibonacci.py
</span><span class="gi">+++ b/fibonacci.py
</span><span class="gu">@@ -1,7 +1,14 @@
</span> #!/usr/bin/env python2
 import unittest
 
<span class="gi">+
</span> class TestFibonacciGenerator(unittest.TestCase):
<span class="gi">+    def fibonacciGenerator(self, length):
+        return [None]
+
+    def testFirstNumber(self):
+        self.assertEquals(0, self.fibonacciGenerator(8)[0])
+
</span> 
 if __name__ == '__main__':
     unittest.main()

commit d8bbcd07a01cc3b84a006bb8546133604bed12ba
Author: Will Price &lt;will.price94@gmail.com&gt;
Date:   Tue Jan 29 10:16:20 2013 +0000

    Skeleton

<span class="gh">diff --git a/fibonacci.py b/fibonacci.py
</span>new file mode 100755
<span class="gh">index 0000000..f4dfbd8
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/fibonacci.py
</span><span class="gu">@@ -0,0 +1,7 @@
</span><span class="gi">+#!/usr/bin/env python2
+import unittest
+
+class TestFibonacciGenerator(unittest.TestCase):
+
+if __name__ == '__main__':
+    unittest.main()</span></code></pre></figure>

<p>You might disagree with my steps, or marvel at my crap commit messages; I’m just
getting started with the tools and methodologies so hopefully in 6 months time
I’ll be able to look back at this and correct all my mistakes.</p>

<p>I’ve been using <code class="highlighter-rouge">tmux</code> to organise my work, <code class="highlighter-rouge">vim</code> to edit it, <code class="highlighter-rouge">git</code> to save
progress and <code class="highlighter-rouge">watch</code> to continually test my code (this is very handy!). I’m
reasonably pleased with this workflow, it’s both simple and flexible.
[1] - ‘–follow’ handles renames, ‘–all’ shows commits on all branches, ‘-p’
shows the changes in patch form (otherwise you just get commit messages)</p>

    </div>
</div>

      </section>
    </div>

    <script type="text/javascript">
      $(document).ready(function() {
        $('.toc').toc();
      });
    </script>
  </body>
</html>
